syntax = "proto3";

package small.execution;

// =====================================================================
// small-db protobuf
// =====================================================================
import "src/type/type.proto";

service Insert {
  rpc Insert(Row) returns (WriteResponse) {}
}

service Update {
  rpc Update(RawNode) returns (WriteResponse) {}
}

message Row {
  string table_name = 1;
  repeated string column_names = 2;
  repeated string column_values = 3;
}

message RawNode {
  bytes packed_node = 1;
}

message WriteResponse {
  int64 affected_rows = 1;
}
